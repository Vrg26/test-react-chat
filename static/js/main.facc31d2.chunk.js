(this["webpackJsonpreact-firebase-chat"]=this["webpackJsonpreact-firebase-chat"]||[]).push([[0],{41:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e),n.d(e,"Context",(function(){return S}));var c=n(2),a=n.n(c),r=n(34),o=n.n(r),i=n(15),s=(n(41),n(21)),u="/login",j="/chat",b=n(17),d=n(5),h=function(){var t=Object(c.useContext)(S).auth,e=Object(b.a)(t),n=Object(i.a)(e,1)[0];return Object(d.jsx)("div",{children:n?Object(d.jsx)("button",{onClick:function(){return t.signOut()},children:"\u0412\u044b\u0439\u0442\u0438"}):Object(d.jsx)(s.b,{to:u,children:Object(d.jsx)("button",{children:"\u041b\u043e\u0433\u0438\u043d"})})})},p=n(9),O=n(20),l=n.n(O),x=n(24),f=n(16),v=function(){var t=Object(c.useContext)(S).auth,e=function(){var e=Object(x.a)(l.a.mark((function e(){var n,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new f.a.auth.GoogleAuthProvider,e.next=3,t.signInWithPopup(n);case 3:c=e.sent,a=c.user,console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:e,children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})},m=n(36),g=function(){return Object(d.jsx)("div",{children:"Loading..."})},C=[{path:u,Component:v}],y=[{path:j,Component:function(){var t=Object(c.useContext)(S),e=t.auth,n=t.firestore,a=Object(b.a)(e),r=Object(i.a)(a,1)[0],o=Object(c.useState)(""),s=Object(i.a)(o,2),u=s[0],j=s[1],h=Object(m.a)(n.collection("messages").orderBy("createdAt")),p=Object(i.a)(h,2),O=p[0],v=p[1],C=function(){var t=Object(x.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.collection("messages").add({uid:r.uid,displayName:r.displayName,text:u,createdAt:f.a.firestore.FieldValue.serverTimestamp()}),j("");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return v?Object(d.jsx)(g,{}):Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:O.map((function(t){return Object(d.jsxs)("div",{children:[t.displayName," - ",t.text]})}))}),Object(d.jsx)("input",{value:u,onChange:function(t){return j(t.target.value)},type:"text"}),Object(d.jsx)("button",{onClick:C,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}}],k=function(){var t=Object(c.useContext)(S).auth,e=Object(b.a)(t),n=Object(i.a)(e,1)[0];return console.log(n),n?Object(d.jsxs)(p.d,{children:[y.map((function(t){var e=t.path,n=t.Component;return Object(d.jsx)(p.b,{path:e,component:n,exact:!0},e)})),Object(d.jsx)(p.a,{to:j})]}):Object(d.jsxs)(p.d,{children:[C.map((function(t){var e=t.path,n=t.Component;return Object(d.jsx)(p.b,{path:e,component:n,exact:!0},e)})),Object(d.jsx)(p.a,{to:u})]})};var w=function(){var t=Object(c.useContext)(S).auth,e=Object(b.a)(t),n=Object(i.a)(e,3),a=(n[0],n[1]);return n[2],a?Object(d.jsx)(g,{}):Object(d.jsxs)(s.a,{children:[Object(d.jsx)(h,{}),Object(d.jsx)(k,{})]})},I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),r(t),o(t)}))};n(50),n(51);f.a.initializeApp({apiKey:"AIzaSyCUrA6tXSV28OfydrtQSQ4gGs48hnpM6qg",authDomain:"chat-react-5475c.firebaseapp.com",projectId:"chat-react-5475c",storageBucket:"chat-react-5475c.appspot.com",messagingSenderId:"363055042870",appId:"1:363055042870:web:067d172cddbd4df93a2397",measurementId:"G-QXCDY1JRXY"});var S=Object(c.createContext)(null),A=f.a.auth(),F=f.a.firestore();o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(S.Provider,{value:{firebase:f.a,auth:A,firestore:F},children:Object(d.jsx)(w,{})})}),document.getElementById("root")),I()}},[[52,1,2]]]);
//# sourceMappingURL=main.facc31d2.chunk.js.map