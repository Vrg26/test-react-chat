{"version":3,"sources":["components/Navbar/Navbar.js","utils/const.js","components/Loader/Loader.js","components/Login/Login.js","routes.js","components/Chat/Chat.js","components/AppRouter.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","auth","useContext","Context","useAuthState","user","className","onClick","signOut","LOGIN_ROUTE","CHAT_ROUTE","Loader","Login","login","a","provider","firebase","GoogleAuthProvider","signInWithPopup","console","log","publicRoutes","path","Component","privateRoutes","firestore","regexp","RegExp","displayName","useState","value","setValue","useCollectionData","collection","orderBy","limitToLast","messages","loading","sendMessage","newValue","replace","add","uid","text","createdAt","FieldValue","serverTimestamp","map","message","onKeyUp","e","code","preventDefault","autoFocus","rows","onFocus","target","selectionStart","length","onChange","test","style","height","scrollHeight","AppRouter","component","exact","to","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.f8adfb94.chunk.js","sourcesContent":["import React, {useContext} from 'react';\r\nimport {Context} from \"../../index\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\n\r\nimport './Navbar.css';\r\n\r\nconst Navbar = () => {\r\n    const {auth} = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n    return (\r\n        <div className=\"navbar\">\r\n            {\r\n                user&&\r\n                <button className=\"navbar__button\" onClick={() => auth.signOut()}>_exit></button>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navbar;","export const LOGIN_ROUTE = '/login';\r\nexport const CHAT_ROUTE = '/chat';\r\n","import React from 'react';\r\n\r\nimport './Loader.css';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"loader\">\r\n            <p className=\"loader__text\"> Loading<span className=\"loader__dots\"></span></p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;","import React, {useContext} from 'react';\r\nimport {Context} from \"../../index\";\r\nimport firebase from \"firebase\";\r\n\r\nimport './Login.css';\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nconst Login = () => {\r\n    const {auth} = useContext(Context);\r\n\r\n    const login = async() =>{\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        const { user } = await auth.signInWithPopup(provider);\r\n        console.log(user);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <button className=\"login__button\" onClick={login}><span className=\"login__button-text\">sign_in</span></button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import {CHAT_ROUTE, LOGIN_ROUTE} from \"./utils/const\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Chat from \"./components/Chat/Chat\";\r\n\r\nexport const publicRoutes = [\r\n    {\r\n        path: LOGIN_ROUTE,\r\n        Component: Login\r\n    }\r\n]\r\n\r\nexport const privateRoutes = [\r\n    {\r\n        path: CHAT_ROUTE,\r\n        Component: Chat\r\n    }\r\n]","import React, {useContext, useState} from 'react';\r\nimport {Context} from \"../../index\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {useCollectionData} from \"react-firebase-hooks/firestore\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport firebase from \"firebase\";\r\n\r\nimport './Chat.css';\r\nimport Navbar from \"../Navbar/Navbar\";\r\n\r\nconst Chat = () => {\r\n\r\n    const {auth, firestore} = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n    const regexp = new RegExp(`^C:\\\\\\\\Users\\\\\\\\${user.displayName}> `);\r\n    const [value, setValue] = useState(`C:\\\\Users\\\\${user.displayName}> `);\r\n    const [messages, loading] = useCollectionData(firestore.collection('messages').orderBy('createdAt').limitToLast(10))\r\n    const sendMessage = async () => {\r\n        const newValue = value.replace(regexp, '');\r\n        firestore.collection('messages').add({\r\n            uid: user.uid,\r\n            displayName: user.displayName,\r\n            text: newValue,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        });\r\n        setValue(`C:\\\\Users\\\\${user.displayName}> `);\r\n    }\r\n\r\n    if(loading){\r\n        return <Loader/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat\">\r\n            <Navbar/>\r\n            <div>\r\n                {messages.map(message =>\r\n                    <div className=\"chat__message\">{`C:\\\\Users\\\\${user.displayName}>`} {message.text}</div>\r\n                )}\r\n            </div>\r\n            <form className=\"chat__form\">\r\n                <textarea\r\n                    onKeyUp={(e) => {\r\n                        if(e.code === 'Enter'){\r\n                            sendMessage();\r\n                            e.preventDefault();\r\n                        }\r\n                    }}\r\n                    autoFocus={true}\r\n                    className=\"chat__input\"\r\n                    value={value}\r\n                    rows=\"auto\"\r\n                    onFocus={(e)=> {\r\n                       e.target.selectionStart = value.length;\r\n                    }}\r\n                    onChange={e =>{\r\n                        if(regexp.test(e.target.value))\r\n                            setValue(e.target.value)\r\n                        else{\r\n                            e.preventDefault();\r\n                        }\r\n                        e.target.style.height = \"5px\";\r\n                        e.target.style.height = (e.target.scrollHeight) + \"px\";\r\n                    }\r\n                    }>\r\n                    {`C:\\\\Users\\\\${user.displayName}`}\r\n                </textarea>\r\n            </form>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chat;","import React, { useContext } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport {privateRoutes, publicRoutes} from \"../routes\";\r\nimport {CHAT_ROUTE, LOGIN_ROUTE} from \"../utils/const\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {Context} from \"../index\";\r\n\r\nconst AppRouter = () => {\r\n    const {auth} = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n\r\n    console.log(user);\r\n    return user ?\r\n        (\r\n            <Switch>\r\n                {privateRoutes.map(({path, Component}) =>\r\n                    <Route key={path} path={path} component={Component} exact/>\r\n                )}\r\n                <Redirect to={CHAT_ROUTE}/>\r\n            </Switch>\r\n        )\r\n        :\r\n        (\r\n            <Switch>\r\n                {publicRoutes.map(({path, Component}) =>\r\n                    <Route key={path} path={path} component={Component} exact/>\r\n                )}\r\n                <Redirect to={LOGIN_ROUTE}/>\r\n            </Switch>\r\n        )\r\n        ;\r\n};\r\n\r\nexport default AppRouter;","\nimport './App.css';\nimport { BrowserRouter } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport AppRouter from \"./components/AppRouter\";\nimport {useContext} from \"react\";\nimport {Context} from \"./index\";\nimport {useAuthState} from \"react-firebase-hooks/auth\";\nimport Loader from \"./components/Loader/Loader\";\n\nfunction App() {\n    const {auth} = useContext(Context);\n    const [user, loading, error] = useAuthState(auth);\n\n  return (\n    <BrowserRouter>\n        <div className=\"App\">\n            {\n                loading ?\n                    <Loader/>\n                    : <>\n                        <AppRouter/>\n                    </>\n\n            }\n        </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { createContext } from 'react';\n\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport firebase from \"firebase\";\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport './index.css';\n\n\nfirebase.initializeApp({\n    apiKey: \"AIzaSyCUrA6tXSV28OfydrtQSQ4gGs48hnpM6qg\",\n    authDomain: \"chat-react-5475c.firebaseapp.com\",\n    projectId: \"chat-react-5475c\",\n    storageBucket: \"chat-react-5475c.appspot.com\",\n    messagingSenderId: \"363055042870\",\n    appId: \"1:363055042870:web:067d172cddbd4df93a2397\",\n    measurementId: \"G-QXCDY1JRXY\"\n});\n\nexport const Context = createContext(null);\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nReactDOM.render(\n  <React.StrictMode>\n      <Context.Provider value={{\n          firebase,\n          auth,\n          firestore\n      }}>\n          <App />\n      </Context.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}