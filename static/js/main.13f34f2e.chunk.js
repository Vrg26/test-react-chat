(this["webpackJsonpreact-firebase-chat"]=this["webpackJsonpreact-firebase-chat"]||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t),a.d(t,"Context",(function(){return U}));var n=a(2),c=a.n(n),s=a(34),r=a.n(s),o=a(15),i=(a(41),a(26)),u=a(17),l=(a(42),a(5)),j=function(){var e=Object(n.useContext)(U).auth,t=Object(u.a)(e),a=Object(o.a)(t,1)[0];return Object(l.jsx)("div",{className:"navbar",children:a&&Object(l.jsx)("button",{className:"navbar__button",onClick:function(){return e.signOut()},children:"_exit>"})})},d=a(9),b="/login",p="/chat",h=a(20),O=a.n(h),m=a(23),x=a(16),f=(a(47),a(48),function(){return Object(l.jsx)("div",{className:"loader",children:Object(l.jsxs)("p",{className:"loader__text",children:[" Loading",Object(l.jsx)("span",{className:"loader__dots"})]})})}),g=function(){var e=Object(n.useContext)(U).auth,t=function(){var t=Object(m.a)(O.a.mark((function t(){var a,n,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new x.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(a);case 3:n=t.sent,c=n.user,console.log(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"login",children:Object(l.jsx)("button",{className:"login__button",onClick:t,children:Object(l.jsx)("span",{className:"login__button-text",children:"sign_in"})})})},v=a(35),C=(a(49),[{path:b,Component:g}]),N=[{path:p,Component:function(){var e=Object(n.useContext)(U),t=e.auth,a=e.firestore,c=Object(u.a)(t),s=Object(o.a)(c,1)[0],r=new RegExp("^C:\\\\Users\\\\".concat(s.displayName,"> ")),i=Object(n.useState)("C:\\Users\\".concat(s.displayName,"> ")),d=Object(o.a)(i,2),b=d[0],p=d[1],h=Object(v.a)(a.collection("messages").orderBy("createdAt")),g=Object(o.a)(h,2),C=g[0],N=g[1],_=function(){var e=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=b.replace(r,""),a.collection("messages").add({uid:s.uid,displayName:s.displayName,text:t,createdAt:x.a.firestore.FieldValue.serverTimestamp()}),p("C:\\Users\\".concat(s.displayName,"> "));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return N?Object(l.jsx)(f,{}):Object(l.jsxs)("div",{className:"chat",children:[Object(l.jsx)(j,{}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"chat__message",children:"C:\\Users\\\u0418\u0432\u0430\u043d \u0413\u0443\u0441\u0435\u0432>\u0412\u0441\u0435\u043c \u043f\u0440\u0438\u0432\u0435\u0442! \u0422\u0443\u0442 \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0442\u0435\u0445, \u043a\u0442\u043e \u043d\u0430\u0448\u0451\u043b \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u044d\u0442\u043e\u0442 \u0447\u0430\u0442. \u041f\u0438\u0448\u0438\u0442\u0435, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u0430\u043c \u043a\u0442\u043e \u043d\u0438\u0431\u0443\u0434\u044c \u043e\u0442\u0432\u0435\u0442\u0438\u0442. "}),C.map((function(e){return Object(l.jsxs)("div",{className:"chat__message",children:["C:\\Users\\".concat(e.displayName,">")," ",e.text]})}))]}),Object(l.jsx)("form",{className:"chat__form",children:Object(l.jsx)("textarea",{onKeyUp:function(e){13===e.keyCode&&(b.replace(r,"").trim()&&_(),p("C:\\Users\\".concat(s.displayName,"> ")),e.preventDefault())},autoFocus:!0,className:"chat__input",value:b,rows:"auto",onFocus:function(e){e.target.selectionStart=b.length},onChange:function(e){r.test(e.target.value)?p(e.target.value):e.preventDefault(),e.target.style.height="5px",e.target.style.height=e.target.scrollHeight+"px"},children:"C:\\Users\\".concat(s.displayName)})})]})}}],_=function(){var e=Object(n.useContext)(U).auth,t=Object(u.a)(e),a=Object(o.a)(t,1)[0];return console.log(a),a?Object(l.jsxs)(d.d,{children:[N.map((function(e){var t=e.path,a=e.Component;return Object(l.jsx)(d.b,{path:t,component:a,exact:!0},t)})),Object(l.jsx)(d.a,{to:p})]}):Object(l.jsxs)(d.d,{children:[C.map((function(e){var t=e.path,a=e.Component;return Object(l.jsx)(d.b,{path:t,component:a,exact:!0},t)})),Object(l.jsx)(d.a,{to:b})]})};var y=function(){var e=Object(n.useContext)(U).auth,t=Object(u.a)(e),a=Object(o.a)(t,3),c=(a[0],a[1]);return a[2],Object(l.jsx)(i.a,{children:Object(l.jsx)("div",{className:"App",children:c?Object(l.jsx)(f,{}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(_,{})})})})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};a(54),a(55),a(56);x.a.initializeApp({apiKey:"AIzaSyCUrA6tXSV28OfydrtQSQ4gGs48hnpM6qg",authDomain:"chat-react-5475c.firebaseapp.com",projectId:"chat-react-5475c",storageBucket:"chat-react-5475c.appspot.com",messagingSenderId:"363055042870",appId:"1:363055042870:web:067d172cddbd4df93a2397",measurementId:"G-QXCDY1JRXY"});var U=Object(n.createContext)(null),k=x.a.auth(),F=x.a.firestore();r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(U.Provider,{value:{firebase:x.a,auth:k,firestore:F},children:Object(l.jsx)(y,{})})}),document.getElementById("root")),w()}},[[57,1,2]]]);
//# sourceMappingURL=main.13f34f2e.chunk.js.map